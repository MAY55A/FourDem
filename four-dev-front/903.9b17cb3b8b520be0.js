"use strict";(self.webpackChunkFourDev_front=self.webpackChunkFourDev_front||[]).push([[903],{9903:(be,f,p)=>{p.r(f),p.d(f,{ProjectsModule:()=>Ce});var a=p(6895),_=p(9965);class m{}var e=p(8256),x=p(7848),C=p(1569),b=p(5089),j=p(8874),l=p(4006);function P(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.options.finishProject(o.project))}),e._UZ(2,"i",48),e._uU(3," marquer comme termin\xe9"),e.qZA()()}}function k(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"a",44)(2,"span"),e._uU(3,"..."),e.qZA()(),e.TgZ(4,"ul",45),e.YNc(5,P,4,0,"li",9),e.TgZ(6,"li")(7,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.options.editProject(o.project))}),e._UZ(8,"i",46),e._uU(9," modifier"),e.qZA()(),e.TgZ(10,"li")(11,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.options.deleteProject(o.project))}),e._UZ(12,"i",47),e._uU(13," supprimer"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","publi\xe9"==(null==t.project?null:t.project.status))}}function Z(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.project.proposer.name)}}function M(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("propos\xe9 ",e.xi3(2,1,t.project.proposedAt,"\xe0 HH:mm, le yyyy/MM/dd"),"")}}function T(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("publi\xe9 ",e.xi3(2,1,t.project.publishedAt,"\xe0 HH:mm, le yyyy/MM/dd"),"")}}function O(n,c){if(1&n&&(e.TgZ(0,"p"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("termin\xe9 le ",e.xi3(2,1,t.project.finishedAt,"\xe0 HH:mm, le yyyy/MM/dd"),"")}}function w(n,c){if(1&n&&(e.TgZ(0,"li",49),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Oqu(t.name)}}function y(n,c){if(1&n&&(e.TgZ(0,"div",50)(1,"p"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("",null==t.proposedServices?null:t.proposedServices.length," propositions")}}function A(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"input",67),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).index,d=e.oxw(3);return e.KtG(d.checkedSkills[s]=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.updateSelectedSkills())}),e.qZA(),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit,i=c.index,o=e.oxw(3);e.xp6(1),e.Q6J("ngModel",o.checkedSkills[i]),e.xp6(2),e.Oqu(o.replace(t))}}const g=function(n){return[n]};function q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"div",55),e._UZ(2,"img",8),e.TgZ(3,"div",56)(4,"h4"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7,"proposer un service "),e.qZA()()(),e.TgZ(8,"a",57)(9,"span",58),e._uU(10,"+"),e.qZA()(),e.TgZ(11,"div",59)(12,"textarea",60),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.service.description=o)}),e.qZA(),e.TgZ(13,"h5"),e._uU(14,"mes comp\xe9tences :"),e.qZA(),e.TgZ(15,"div",61),e.YNc(16,A,4,2,"div",62),e.TgZ(17,"div",63)(18,"input",64),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.newSkill=o)}),e.qZA(),e.TgZ(19,"button",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addSkill())}),e._uU(20,"+"),e.qZA()()(),e.TgZ(21,"button",65),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.proposeService())}),e._uU(22,"proposer"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("src",e.VKq(6,g,"../../../assets/images/users/"+t.user.id+".jpg"),e.LSH),e.xp6(3),e.Oqu(t.user.name),e.xp6(7),e.Q6J("ngModel",t.service.description),e.xp6(4),e.Q6J("ngForOf",t.skills),e.xp6(2),e.Q6J("ngModel",t.newSkill),e.xp6(3),e.Q6J("disabled",t.disable())}}function J(n,c){if(1&n&&(e.TgZ(0,"li",49),e._uU(1),e.qZA()),2&n){const t=c.$implicit,i=e.oxw(3);e.xp6(1),e.Oqu(i.replace(t))}}function S(n,c){1&n&&(e.TgZ(0,"a",79),e._UZ(1,"i",48),e.qZA())}function U(n,c){1&n&&(e.TgZ(0,"a",80),e._UZ(1,"i",81),e.qZA())}function N(n,c){1&n&&(e.TgZ(0,"a",82),e._UZ(1,"i",83),e.qZA())}function Q(n,c){1&n&&(e.TgZ(0,"a",84),e._UZ(1,"i",85),e.qZA())}function E(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"a",75),e.YNc(2,U,2,0,"a",76),e.YNc(3,N,2,0,"a",77),e.YNc(4,Q,2,0,"a",78),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","accept\xe9"==t.status),e.xp6(1),e.Q6J("ngIf","refus\xe9"==t.status),e.xp6(1),e.Q6J("ngIf",t.liked),e.xp6(1),e.Q6J("ngIf",!1===t.liked)}}function I(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",90),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceStatus(o,"Canceling"))}),e._UZ(1,"i",48),e.qZA()}}function F(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",91),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceStatus(o,"Acceptation"))}),e._UZ(1,"i",48),e.qZA()}}function Y(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",92),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceStatus(o,"Canceling"))}),e._UZ(1,"i",81),e.qZA()}}function z(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",93),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceStatus(o,"Rejection"))}),e._UZ(1,"i",81),e.qZA()}}function H(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,I,2,0,"a",86),e.YNc(2,F,2,0,"a",87),e.YNc(3,Y,2,0,"a",88),e.YNc(4,z,2,0,"a",89),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf","accept\xe9"==t.status),e.xp6(1),e.Q6J("ngIf","propos\xe9"==t.status),e.xp6(1),e.Q6J("ngIf","refus\xe9"==t.status),e.xp6(1),e.Q6J("ngIf","propos\xe9"==t.status)}}function K(n,c){1&n&&(e.TgZ(0,"a",79),e._UZ(1,"i",48),e.qZA())}function L(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",98),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceEvaluation(o,"EvaluationCanceling"))}),e._UZ(1,"i",83),e.qZA()}}function $(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",99),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceEvaluation(o,"Liking"))}),e._UZ(1,"i",100),e.qZA()}}function G(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",101),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceEvaluation(o,"EvaluationCanceling"))}),e._UZ(1,"i",85),e.qZA()}}function V(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"a",102),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3).$implicit,r=e.oxw(2);return e.KtG(r.updateServiceEvaluation(o,"Disliking"))}),e._UZ(1,"i",103),e.qZA()}}function B(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,K,2,0,"a",75),e.YNc(2,L,2,0,"a",94),e.YNc(3,$,2,0,"a",95),e.YNc(4,G,2,0,"a",96),e.YNc(5,V,2,0,"a",97),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",null!=t.liked),e.xp6(1),e.Q6J("ngIf",t.liked),e.xp6(1),e.Q6J("ngIf",!t.liked),e.xp6(1),e.Q6J("ngIf",!1===t.liked),e.xp6(1),e.Q6J("ngIf",!1!==t.liked)}}function D(n,c){if(1&n&&(e.YNc(0,H,5,4,"div",9),e.YNc(1,B,6,5,"div",9)),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf",null==t.liked),e.xp6(1),e.Q6J("ngIf","accept\xe9"==t.status)}}const h=function(n){return["/profile/",n]};function W(n,c){if(1&n&&(e.TgZ(0,"div",68)(1,"div",55)(2,"a",69),e._UZ(3,"img",70),e.qZA(),e.TgZ(4,"div",56)(5,"h4"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"date"),e.qZA()()(),e.TgZ(10,"div",71)(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"h5"),e._uU(14,"Comp\xe9tences :"),e.qZA(),e.TgZ(15,"ul",72),e.YNc(16,J,2,1,"li",13),e.qZA()(),e.YNc(17,E,5,4,"div",73),e.YNc(18,D,2,2,"ng-template",null,74,e.W1O),e.qZA()),2&n){const t=c.$implicit,i=e.MAs(19),o=e.oxw(2);e.Q6J("id",t.id),e.xp6(2),e.Q6J("routerLink",e.VKq(12,h,t.proposer.id)),e.xp6(1),e.Q6J("src",e.VKq(14,g,"../../../assets/images/users/"+t.proposer.id+".jpg"),e.LSH),e.xp6(3),e.Oqu(t.proposer.name),e.xp6(2),e.Oqu(e.xi3(9,9,t.proposedAt,"\xe0 HH:mm, le yyyy/MM/dd")),e.xp6(4),e.Oqu(t.description),e.xp6(4),e.Q6J("ngForOf",t.skills.split(" ")),e.xp6(1),e.Q6J("ngIf",(null==o.user?null:o.user.id)!=o.project.proposer.id)("ngIfElse",i)}}function R(n,c){if(1&n&&(e.TgZ(0,"div",51),e.YNc(1,q,23,8,"div",52),e.YNc(2,W,20,16,"div",53),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.user&&"Fournisseur"==t.user.type),e.xp6(1),e.Q6J("ngForOf",t.proposedServices)}}function X(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",104),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.options.checkedCategories[r]=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.options.updateSelectedCategories())}),e.qZA(),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(),i=t.index,o=t.$implicit,r=e.oxw();e.xp6(1),e.Q6J("ngModel",r.options.checkedCategories[i]),e.xp6(2),e.Oqu(o.name)}}function ee(n,c){if(1&n&&(e.TgZ(0,"div",34),e.YNc(1,X,4,2,"div",9),e.qZA()),2&n){const t=c.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null!=i.project.categories&&i.project.categories.includes(t)))}}function te(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",105),e.NdJ("change",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.options.removeCategory(r))}),e._UZ(1,"input",106),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.Oqu(t.name)}}function ne(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",107),e.NdJ("ngModelChange",function(o){const s=e.CHM(t).index,d=e.oxw();return e.KtG(d.options.checkedDomains[s]=o)})("ngModelChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.options.getCategories())}),e.qZA(),e._uU(2),e.qZA()}if(2&n){const t=c.$implicit,i=c.index,o=e.oxw();e.xp6(1),e.Q6J("ngModel",o.options.checkedDomains[i]),e.xp6(1),e.hij("\xa0",t,"")}}function oe(n,c){if(1&n&&(e.TgZ(0,"div",108)(1,"strong"),e._uU(2,"\xc9chec !"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.options.alert," ")}}function ie(n,c){if(1&n&&(e.TgZ(0,"div",109)(1,"strong"),e._uU(2,"Succ\xe8s !"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",t.options.success," ")}}const ce=function(n){return{display:n}};let re=(()=>{class n{constructor(t,i,o,r,s,d){this.projectService=t,this.route=i,this.options=o,this.userService=r,this.serviceService=s,this.location=d,this.displayStyle="none",this.service=new m,this.skills=[],this.checkedSkills=[!0],this.selectedSkills=new Set}ngOnInit(){var t=Number(this.route.snapshot.paramMap.get("id"));this.getProject(t),this.getProfile()}getProfile(){this.userService.getProfile()?.subscribe(t=>{this.user=t,this.user?.skills&&(this.skills=this.user.skills.split(" "),this.checkedSkills=new Array(this.skills?.length).fill(!1))})}getProject(t){this.projectService.getProject(t).subscribe(i=>{this.project=i,console.log(this.project),this.getPropositions(t)})}getPropositions(t){this.serviceService.getServicesByProject(t).subscribe(i=>{this.proposedServices=i})}updateSelectedSkills(){this.selectedSkills=new Set,this.checkedSkills.forEach((t,i)=>{t&&this.selectedSkills.add(this.skills[i])})}addSkill(){this.newSkill&&(this.newSkill=this.newSkill.replace(/ /g,"-"),this.skills?.includes(this.newSkill)||(this.user.skills=(this.user.skills+" "+this.newSkill.replace(/ /g,",")).trim(),this.skills?.push(this.newSkill),this.checkedSkills?.push(!0),this.selectedSkills?.add(this.newSkill),this.newSkill="",this.userService.updateUser(this.user).subscribe(()=>{console.log("adding skill...",this.user?.skills)})))}disable(){return!(this.service.description&&this.selectedSkills.size>0)}proposeService(){this.service.proposer=this.user,this.service.project=this.project,this.service.skills=[...this.selectedSkills].join(" "),this.serviceService.createService(this.service).subscribe(()=>{console.log("proposing service ..."),this.service=new m,this.getPropositions(this.project.id)})}updateServiceEvaluation(t,i){t.liked="Liking"==i||"Disliking"!=i&&null,this.serviceService.updateServiceEvaluationAndNotify(t,i).subscribe(()=>{console.log("Service evaluation successfully updated !")},r=>console.log(r))}updateServiceStatus(t,i){t.status="Acceptation"==i?"accept\xe9":"Rejection"==i?"refus\xe9":"propos\xe9",this.serviceService.updateServiceAndNotify(t,i).subscribe(()=>{console.log("Service status successfully updated !")},r=>console.log(r))}replace(t){return t.replace(/-/g," ")}goBack(){this.location.back()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(x.Y),e.Y36(_.gz),e.Y36(C.I),e.Y36(b.K),e.Y36(j.m),e.Y36(a.Ye))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-project"]],decls:66,vars:26,consts:[[1,"project-page"],[1,"header"],[3,"click"],[1,"goback"],["class","options",4,"ngIf"],[1,"single","project"],[1,"project-header"],[1,"owner",3,"routerLink"],["onerror","this.src='../../../assets/icons/defaultuser.png'",3,"src"],[4,"ngIf"],[1,"title"],[1,"description"],[1,"services"],["class","service",4,"ngFor","ngForOf"],["class","infos",4,"ngIf"],["class","propositions",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal",3,"ngStyle"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"card"],["type","button",1,"exit",3,"click"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],[1,"scrollable"],[1,"form-group"],["for","titre"],["name","titre","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","desc"],["rows","15","name","desc","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","checkbox-button-group"],["class","checkbox-button cat",4,"ngFor","ngForOf"],["class","checkbox-button cat",3,"change",4,"ngFor","ngForOf"],[1,"checkbox-button","cat"],["data-toggle","collapse","href","#addcategories",1,"addcat"],["id","addcategories",1,"panel-collapse","collapse"],[1,"panel-body"],["for","domaine"],[4,"ngFor","ngForOf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"options"],["data-toggle","collapse","href","#options"],["id","options",1,"panel-collapse","collapse"],[1,"fa","fa-pencil"],[1,"fa","fa-trash"],[1,"fa","fa-check"],[1,"service"],[1,"infos"],[1,"propositions"],["class","proposition",4,"ngIf"],["class","proposition",3,"id",4,"ngFor","ngForOf"],[1,"proposition"],[1,"proposer"],[1,"user-info"],["data-toggle","collapse","href","#comment"],[1,"add","action"],["id","comment",1,"comment","panel-collapse","collapse"],["placeholder","mon service...",3,"ngModel","ngModelChange"],[1,"checkbox-button-group"],["class","checkbox-button skill",4,"ngFor","ngForOf"],[1,"addskill"],["type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","submit",3,"disabled","click"],[1,"checkbox-button","skill"],["type","checkbox","name","skill",3,"ngModel","ngModelChange"],[1,"proposition",3,"id"],[3,"routerLink"],["onerror","this.src='../../../assets/icons/defaultuser.png'","width","50px",3,"src"],[1,"comment"],[1,"proposed","services"],[4,"ngIf","ngIfElse"],["elseBlock",""],["class","action accept chosen",4,"ngIf"],["class","action refuse chosen",4,"ngIf"],["class","eval liked chosen",4,"ngIf"],["class","eval disliked chosen",4,"ngIf"],[1,"action","accept","chosen"],[1,"action","refuse","chosen"],[1,"fa","fa-remove"],[1,"eval","liked","chosen"],[1,"fa","fa-thumbs-up"],[1,"eval","disliked","chosen"],[1,"fa","fa-thumbs-down"],["class","action accept chosen",3,"click",4,"ngIf"],["class","action accept",3,"click",4,"ngIf"],["class","action refuse chosen",3,"click",4,"ngIf"],["class","action refuse",3,"click",4,"ngIf"],[1,"action","accept","chosen",3,"click"],[1,"action","accept",3,"click"],[1,"action","refuse","chosen",3,"click"],[1,"action","refuse",3,"click"],["class","eval like chosen",3,"click",4,"ngIf"],["class","eval like",3,"click",4,"ngIf"],["class","eval dislike chosen",3,"click",4,"ngIf"],["class","eval dislike",3,"click",4,"ngIf"],[1,"eval","like","chosen",3,"click"],[1,"eval","like",3,"click"],[1,"fa","fa-thumbs-o-up"],[1,"eval","dislike","chosen",3,"click"],[1,"eval","dislike",3,"click"],[1,"fa","fa-thumbs-o-down"],["type","checkbox","name","category",3,"ngModel","ngModelChange"],[1,"checkbox-button","cat",3,"change"],["type","checkbox","checked","","name","category"],["type","checkbox","name","domaine",3,"ngModel","ngModelChange"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(){return o.goBack()}),e.TgZ(3,"span",3),e._uU(4,"<<"),e.qZA()(),e.YNc(5,k,14,1,"div",4),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"a",7),e._UZ(9,"img",8),e.YNc(10,Z,2,1,"p",9),e.qZA(),e.TgZ(11,"h3",10),e._uU(12),e.qZA(),e.YNc(13,M,3,4,"p",9),e.YNc(14,T,3,4,"p",9),e.YNc(15,O,3,4,"p",9),e.qZA(),e.TgZ(16,"div")(17,"p",11),e._uU(18),e.qZA(),e.TgZ(19,"h5"),e._uU(20,"cat\xe9gories :"),e.qZA(),e.TgZ(21,"ul",12),e.YNc(22,w,2,1,"li",13),e.qZA()(),e.YNc(23,y,3,1,"div",14),e.qZA(),e.YNc(24,R,3,2,"div",15),e.qZA(),e.TgZ(25,"div",16)(26,"div",17)(27,"div",18)(28,"div",19)(29,"div",20)(30,"button",21),e.NdJ("click",function(){return o.options.closeProjectForm()}),e._uU(31,"X"),e.qZA(),e.TgZ(32,"h2",22),e._uU(33,"Modification du projet"),e.qZA(),e._UZ(34,"br"),e.TgZ(35,"div",23)(36,"form",24),e.NdJ("ngSubmit",function(){return o.options.submitEditProjectForm()}),e.TgZ(37,"div",25)(38,"div",26)(39,"label",27),e._uU(40,"Titre:"),e.qZA(),e.TgZ(41,"input",28),e.NdJ("ngModelChange",function(s){return o.options.project.title=s}),e.qZA()(),e.TgZ(42,"div",26)(43,"label",29),e._uU(44,"Description :"),e.qZA(),e.TgZ(45,"textarea",30),e.NdJ("ngModelChange",function(s){return o.options.project.description=s}),e._uU(46,"description ...."),e.qZA()(),e.TgZ(47,"label"),e._uU(48,"Cat\xe9gories:"),e.qZA(),e.TgZ(49,"div",31),e.YNc(50,ee,2,1,"div",32),e.YNc(51,te,4,1,"div",33),e.TgZ(52,"div",34)(53,"label")(54,"button",35),e._uU(55,"+"),e.qZA()()(),e.TgZ(56,"div",36)(57,"div",37)(58,"label",38),e._uU(59,"Domaine(s):"),e.qZA(),e._UZ(60,"br"),e.YNc(61,ne,3,2,"div",39),e.qZA()()()(),e.YNc(62,oe,4,1,"div",40),e.YNc(63,ie,4,1,"div",41),e.TgZ(64,"button",42),e._uU(65,"modifier"),e.qZA()()()()()()()()),2&i&&(e.xp6(5),e.Q6J("ngIf",(null==o.user?null:o.user.id)==(null==o.project||null==o.project.proposer?null:o.project.proposer.id)),e.xp6(3),e.Q6J("routerLink",e.VKq(20,h,o.project.proposer.id)),e.xp6(1),e.Q6J("src",e.VKq(22,g,"../../../assets/images/users/"+o.project.proposer.id+".jpg"),e.LSH),e.xp6(1),e.Q6J("ngIf",(null==o.user?null:o.user.id)!=(null==o.project||null==o.project.proposer?null:o.project.proposer.id)),e.xp6(2),e.Oqu(o.project.title),e.xp6(1),e.Q6J("ngIf","propos\xe9"==(null==o.project?null:o.project.status)||"refus\xe9"==(null==o.project?null:o.project.status)),e.xp6(1),e.Q6J("ngIf","publi\xe9"==(null==o.project?null:o.project.status)||"termin\xe9"==(null==o.project?null:o.project.status)),e.xp6(1),e.Q6J("ngIf","termin\xe9"==(null==o.project?null:o.project.status)),e.xp6(3),e.Oqu(o.project.description),e.xp6(4),e.Q6J("ngForOf",null==o.project?null:o.project.categories),e.xp6(1),e.Q6J("ngIf","publi\xe9"==(null==o.project?null:o.project.status)||"termin\xe9"==(null==o.project?null:o.project.status)),e.xp6(1),e.Q6J("ngIf","publi\xe9"==(null==o.project?null:o.project.status)||"termin\xe9"==(null==o.project?null:o.project.status)),e.xp6(1),e.Q6J("ngStyle",e.VKq(24,ce,o.options.displayStyle)),e.xp6(16),e.Q6J("ngModel",o.options.project.title),e.xp6(4),e.Q6J("ngModel",o.options.project.description),e.xp6(5),e.Q6J("ngForOf",o.options.categories),e.xp6(1),e.Q6J("ngForOf",null==o.options.project?null:o.options.project.categories),e.xp6(10),e.Q6J("ngForOf",o.options.domains),e.xp6(1),e.Q6J("ngIf",o.options.alert),e.xp6(1),e.Q6J("ngIf",o.options.success))},dependencies:[a.sg,a.O5,a.PC,_.rH,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.Q7,l.On,l.F,a.uU],styles:[".main-section[_ngcontent-%COMP%]{padding:20px 10px}.section-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:50px;input {font-size: 14px; width: 350px; height: 50px; color: #859098; border-radius: 20px; text-transform: capitalize; font-weight: 500; padding-left: 10px; margin: 10px;} .add {background: #2e5077; color: white; font-size: 15px; border-radius: 10px; padding: 5px; border: none; width: 200px; height: 40px; margin: 10px;} .add:hover {background-color: #43658d; color: #a5b9cf;}}.exit[_ngcontent-%COMP%]{position:relative;left:95%;font-size:20px;color:#a45d5d}h3[_ngcontent-%COMP%]{color:#f0f8ff}.project-type[_ngcontent-%COMP%]{font-size:20px}.project[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#ffffffb0;border-radius:15px;border:2px solid #1d3b5c;margin:10px 50px;padding:10px 20px 20px 10px;color:#1f253d}.project-header[_ngcontent-%COMP%]{padding-left:10px;min-width:150px;max-width:70%}.project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray;font-size:12px}.project[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:140%;color:#6370a0}.project[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#1f253d;font-size:15px;margin:5px 10px 20px}.services[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}li.service[_ngcontent-%COMP%]{background-color:#628ec7;color:#f0f8ff;border-radius:20px;margin:5px;padding:8px;min-width:70px;height:max-content;text-align:center}.infos[_ngcontent-%COMP%]{text-align:end}.checkbox-button[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;margin-top:-30px}.checkbox-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;top:45px;width:100%;height:40px;opacity:0;cursor:pointer}.checkbox-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding:10px 15px;font-size:12px;border:1px solid #091522;color:#091522}.checkbox-button.cat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:5px}.checkbox-button.cat[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{background-color:#1d3b5c;color:#fff}.add[_ngcontent-%COMP%]{margin-top:5px;button {font-size: 15px;}}",".filters[_ngcontent-%COMP%]{margin:20px;padding:10px;display:flex;justify-content:space-between;input {font-size: 14px; width: 300px; height: 35px; color: #859098; border-radius: 20px; text-transform: capitalize; font-weight: 500; padding-left: 10px; margin: 10px;} select {width: 90%; border-radius: 10px; border: 1px solid rgb(87,100,220);}}.infos[_ngcontent-%COMP%]{img {width: 50px; border-radius: 30px; border: 1px solid rgb(87,100,220);} min-width: 50px}.sliderBox[_ngcontent-%COMP%]{max-width:100%;position:relative;.sliderWrap {overflow: hidden; margin: 0 3em; text-align: center; .sliderContent {white-space: nowrap; margin: 1em 0; padding: 0; transition: left 1s; position: relative; left: 0; display: inline-block; li {img {width: 8em; height: 8em; margin: 1em;} display: inline-block; text-align: center; text-wrap: wrap; width: 20em; height: 15em; border: 1px dotted #40537e; border-radius: 20px; margin: 10px; cursor: pointer;}}} button {border: none; background: none; font-size: 2em; position: absolute; top: 50%; left: 0; transform: translateY(-50%); color: #bababa; &:hover {color: #747474;} &.right {left: auto; right: 0;}}}.category.active[_ngcontent-%COMP%], .category[_ngcontent-%COMP%]:hover, .category.clicked[_ngcontent-%COMP%]{background:rgba(22,132,144,.3);img {filter: invert(100%);} h5 {color: white;}}",".project-page[_ngcontent-%COMP%]{padding:10px 30px}h5[_ngcontent-%COMP%]{margin-top:20px;color:#30374f;font-size:15px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636f99;font-size:25px;cursor:pointer;margin:-10px -20px;&:hover{color:#39b6ba;transition:cubic-bezier(.075,.82,.165,1)}}.goback[_ngcontent-%COMP%]{letter-spacing:-5px}.project.single[_ngcontent-%COMP%]{background-color:#ffffffb0;flex-direction:column;padding:2%;margin:0}.info[_ngcontent-%COMP%]{p {text-align: left;}}.project[_ngcontent-%COMP%]   .owner[_ngcontent-%COMP%]{position:absolute;text-align:center;right:50px;img {width: 50px; height: 50px; border-radius: 30px; border: 2px solid #30374f;} p {position: relative;}}.project[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:5%;padding-left:5%}.project[_ngcontent-%COMP%]   .services[_ngcontent-%COMP%]{margin-top:10px;width:100%}.service[_ngcontent-%COMP%]{position:relative}.service[_ngcontent-%COMP%]   #add[_ngcontent-%COMP%]{color:#636f99;font-size:130%}.action[_ngcontent-%COMP%]{display:none;position:absolute;top:5px;right:10px;font-size:18px;opacity:.5;cursor:pointer;&.accept{color:#318b10;right:30px;&.chosen{right:10px}}&.refuse{color:#8b1025}&.chosen,&:hover{opacity:1;display:inline}}.eval[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:10px;cursor:pointer;&.like{right:40px}&:hover{font-size:18px}&.chosen{font-size:18px}}.add[_ngcontent-%COMP%]{display:inline;color:#0b1d2d;font-size:20px}.proposition[_ngcontent-%COMP%]:hover   .action[_ngcontent-%COMP%]{display:inline}.propositions[_ngcontent-%COMP%]{margin:2%}.proposition[_ngcontent-%COMP%]{position:relative;background-color:#d6ddefcc;border-radius:15px;border:2px solid #747887;padding:2%;margin-top:2%}.proposer[_ngcontent-%COMP%]{width:300px;margin-bottom:5px;padding:0 0 5px 10px;border-bottom:1px solid #c5c5db;border-left:1px solid #c5c5db;border-radius:10px;a {display: inline;} img {float: left; height: 50px; width: 50px; border-radius: 30px; border: 2px solid #747887;}}.user-info[_ngcontent-%COMP%]{margin-left:60px}.user-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:5px}.user-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#121213;font-size:15px;font-style:italic}.comment[_ngcontent-%COMP%]{margin:10px}.comment[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#494c4e}textarea[_ngcontent-%COMP%]{background-color:#f4f9ff66;border:none;border-radius:10px;padding:5px 10px;width:100%;height:100px}.skill[_ngcontent-%COMP%]{label {border-radius: 20px;}}.addskill[_ngcontent-%COMP%]{margin-top:10px;button {border: 1px solid hsla(211,64%,13%,.9); border-radius: 15px; padding: 0px 10px; font-size: 18px; margin-left: 20px; height: 30px; &:hover {color: aliceblue; background-color: hsla(211,64%,13%,.9);}} input {width: 80px; height: 30px; background-color: rgb(217,229,240); border-radius: 20px; color: #30374f; padding-left: 4px; margin: 0; transition: .5s; &:hover,&:focus {width: 150px; transition: .5s;}}}.submit[_ngcontent-%COMP%]{position:relative;left:100%;margin-left:-100px}"]})}return n})();var se=p(8722);function le(n,c){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function pe(n,c){1&n&&e._UZ(0,"button",14)}const ae=function(n){return{category:!0,clicked:n}};function _e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"li",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.pickCategory(r))}),e._UZ(1,"img",16),e.TgZ(2,"h5"),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit,i=e.oxw();e.Q6J("ngClass",e.VKq(3,ae,(null==i.category?null:i.category.id)==t.id)),e.xp6(1),e.Q6J("src","../assets/icons/categories/"+t.id+".png",e.LSH),e.xp6(2),e.Oqu(t.name)}}function de(n,c){1&n&&e._UZ(0,"button",17)}function ge(n,c){1&n&&(e.TgZ(0,"div",18),e._uU(1,"Aucun Projet"),e.qZA())}function ue(n,c){if(1&n&&(e.TgZ(0,"li",29),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Oqu(t.name)}}const v=function(n){return["projet/",n]},fe=function(n){return["/profile/",n]},me=function(n){return[n]};function xe(n,c){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20)(2,"a",21),e._uU(3),e.qZA(),e.TgZ(4,"p",22),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div")(8,"p",23),e._uU(9),e.TgZ(10,"a",24),e._uU(11,"..."),e.qZA()(),e.TgZ(12,"ul",25),e.YNc(13,ue,2,1,"li",26),e.qZA()(),e.TgZ(14,"a",27),e._UZ(15,"img",28),e.qZA()()),2&n){const t=c.$implicit;e.xp6(2),e.Q6J("routerLink",e.VKq(12,v,t.id)),e.xp6(1),e.Oqu(t.title),e.xp6(2),e.hij("publi\xe9 ",e.xi3(6,9,t.publishedAt,"\xe0 HH:mm, le yyyy/MM/dd"),""),e.xp6(4),e.Oqu(t.description.substr(0,200)),e.xp6(1),e.Q6J("routerLink",e.VKq(14,v,t.id)),e.xp6(3),e.Q6J("ngForOf",t.categories),e.xp6(1),e.Q6J("routerLink",e.VKq(16,fe,t.proposer.id)),e.xp6(1),e.Q6J("src",e.VKq(18,me,"../../assets/images/users/"+t.proposer.id+".jpg"),e.LSH)("title",t.proposer.name)}}let u=(()=>{class n{constructor(t,i,o){this.categoryService=t,this.projectService=i,this.route=o,this.domains=["Tous","IT","Comptabilit\xe9","Influence"],this.categories=[],this.projects=[],this.domain=this.domains[0],this.searchValue=""}ngOnInit(){this.route.paramMap.subscribe(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0}),this.getProjects()}getCategories(){this.category=void 0,this.categoryService.getCategoriesByDomain(this.domain).subscribe(t=>{this.categories=t,this.getProjects()})}pickCategory(t){this.category=t.id===this.category?.id?void 0:t,this.getProjects()}getProjects(){"Tous"==this.domain?this.projectService.getPublishedProjects().subscribe(t=>{this.allProjects=t,this.projects=[...this.allProjects]}):(this.category?(console.log(typeof this.category),this.allProjects=this.category.projects.filter(t=>"publi\xe9"==t.status)):(this.allProjects=[],this.categories.forEach(t=>{this.allProjects.push(...t.projects.filter(i=>"publi\xe9"==i.status&&!this.allProjects.some(o=>JSON.stringify(o)===JSON.stringify(i))))})),this.projects=[...this.allProjects])}search(){this.projects=this.allProjects?.filter(t=>t.title.toLowerCase().includes(this.searchValue)||t.description.toLowerCase().includes(this.searchValue)||t.proposer.name.toLowerCase().includes(this.searchValue))}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(se.H),e.Y36(x.Y),e.Y36(_.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-projects"]],decls:17,vars:8,consts:[[1,"filters"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","chercher un projet ...",3,"ngModel","ngModelChange"],[1,"sliderBox","categories"],["type","button","class","left fa fa-chevron-left","onclick","slide({left: 0})",4,"ngIf"],[1,"sliderWrap"],[1,"sliderContent"],[3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","class","right fa fa-chevron-right","onclick","slide({left: 1})",4,"ngIf"],["class","empty",4,"ngIf"],[1,"projects"],["class","project",4,"ngFor","ngForOf"],[3,"value"],["type","button","onclick","slide({left: 0})",1,"left","fa","fa-chevron-left"],[3,"ngClass","click"],[3,"src"],["type","button","onclick","slide({left: 1})",1,"right","fa","fa-chevron-right"],[1,"empty"],[1,"project"],[1,"project-header"],[1,"title",3,"routerLink"],[1,"date"],[1,"description"],[3,"routerLink"],[1,"services"],["class","service",4,"ngFor","ngForOf"],[1,"infos",3,"routerLink"],["onerror","this.src='../../assets/icons/defaultuser.png'",3,"src","title"],[1,"service"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div")(2,"label"),e._uU(3,"Domaine :"),e.qZA(),e._uU(4,"\xa0\xa0 "),e.TgZ(5,"select",1),e.NdJ("ngModelChange",function(s){return o.domain=s})("change",function(){return o.getCategories()}),e.YNc(6,le,2,2,"option",2),e.qZA()(),e.TgZ(7,"input",3),e.NdJ("ngModelChange",function(s){return o.searchValue=s})("ngModelChange",function(){return o.search()}),e.qZA()(),e.TgZ(8,"div",4),e.YNc(9,pe,1,0,"button",5),e.TgZ(10,"div",6)(11,"ul",7),e.YNc(12,_e,4,5,"li",8),e.qZA()(),e.YNc(13,de,1,0,"button",9),e.qZA(),e.YNc(14,ge,2,0,"div",10),e.TgZ(15,"div",11),e.YNc(16,xe,16,20,"div",12),e.qZA()),2&i&&(e.xp6(5),e.Q6J("ngModel",o.domain),e.xp6(1),e.Q6J("ngForOf",o.domains),e.xp6(1),e.Q6J("ngModel",o.searchValue),e.xp6(2),e.Q6J("ngIf","Tous"!=o.domain),e.xp6(3),e.Q6J("ngForOf",o.categories),e.xp6(1),e.Q6J("ngIf","Tous"!=o.domain),e.xp6(1),e.Q6J("ngIf",0==o.projects.length),e.xp6(2),e.Q6J("ngForOf",o.projects))},dependencies:[a.mk,a.sg,a.O5,_.rH,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,a.uU],styles:[".filters[_ngcontent-%COMP%]{margin:20px;padding:10px;display:flex;justify-content:space-between;input {font-size: 14px; width: 300px; height: 35px; color: #859098; border-radius: 20px; text-transform: capitalize; font-weight: 500; padding-left: 10px; margin: 10px;} select {width: 90%; border-radius: 10px; border: 1px solid rgb(87,100,220);}}.infos[_ngcontent-%COMP%]{img {width: 50px; border-radius: 30px; border: 1px solid rgb(87,100,220);} min-width: 50px}.sliderBox[_ngcontent-%COMP%]{max-width:100%;position:relative;.sliderWrap {overflow: hidden; margin: 0 3em; text-align: center; .sliderContent {white-space: nowrap; margin: 1em 0; padding: 0; transition: left 1s; position: relative; left: 0; display: inline-block; li {img {width: 8em; height: 8em; margin: 1em;} display: inline-block; text-align: center; text-wrap: wrap; width: 20em; height: 15em; border: 1px dotted #40537e; border-radius: 20px; margin: 10px; cursor: pointer;}}} button {border: none; background: none; font-size: 2em; position: absolute; top: 50%; left: 0; transform: translateY(-50%); color: #bababa; &:hover {color: #747474;} &.right {left: auto; right: 0;}}}.category.active[_ngcontent-%COMP%], .category[_ngcontent-%COMP%]:hover, .category.clicked[_ngcontent-%COMP%]{background:rgba(22,132,144,.3);img {filter: invert(100%);} h5 {color: white;}}",".main-section[_ngcontent-%COMP%]{padding:20px 10px}.section-header[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:50px;input {font-size: 14px; width: 350px; height: 50px; color: #859098; border-radius: 20px; text-transform: capitalize; font-weight: 500; padding-left: 10px; margin: 10px;} .add {background: #2e5077; color: white; font-size: 15px; border-radius: 10px; padding: 5px; border: none; width: 200px; height: 40px; margin: 10px;} .add:hover {background-color: #43658d; color: #a5b9cf;}}.exit[_ngcontent-%COMP%]{position:relative;left:95%;font-size:20px;color:#a45d5d}h3[_ngcontent-%COMP%]{color:#f0f8ff}.project-type[_ngcontent-%COMP%]{font-size:20px}.project[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#ffffffb0;border-radius:15px;border:2px solid #1d3b5c;margin:10px 50px;padding:10px 20px 20px 10px;color:#1f253d}.project-header[_ngcontent-%COMP%]{padding-left:10px;min-width:150px;max-width:70%}.project[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:gray;font-size:12px}.project[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:140%;color:#6370a0}.project[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#1f253d;font-size:15px;margin:5px 10px 20px}.services[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}li.service[_ngcontent-%COMP%]{background-color:#628ec7;color:#f0f8ff;border-radius:20px;margin:5px;padding:8px;min-width:70px;height:max-content;text-align:center}.infos[_ngcontent-%COMP%]{text-align:end}.checkbox-button[_ngcontent-%COMP%]{display:inline-block;margin-right:10px;margin-top:-30px}.checkbox-button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:relative;top:45px;width:100%;height:40px;opacity:0;cursor:pointer}.checkbox-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;padding:10px 15px;font-size:12px;border:1px solid #091522;color:#091522}.checkbox-button.cat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:5px}.checkbox-button.cat[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%], .skill[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]{background-color:#1d3b5c;color:#fff}.add[_ngcontent-%COMP%]{margin-top:5px;button {font-size: 15px;}}"]})}return n})();const he=[{path:"",component:u},{path:"projet/:id",component:re},{path:":domaine",component:u},{path:":domaine/:categorie",component:u}];let ve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(he),_.Bz]})}return n})(),Ce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[a.ez,ve,l.u5]})}return n})()}}]);